<div class="bg-white border border-zinc-300 flex flex-col rounded-md mb-4 shadow">
    <div class="flex flex-col py-4 px-6">
        <div class="flex max-[768px]:flex-col">
            <div class="flex flex-grow flex-col">
                <div class="flex justify-between">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 mr-2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
                        </svg>  
                        <span class="text-lg">{{name}}</span>
                    </div>
                    <div class="flex p-2 relative">
                        <button [mat-menu-trigger-for]="options" class="">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 hover:bg-zinc-200 rounded-full transtion duration-200">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                            </svg>   
                        </button>
                        <mat-menu #options="matMenu">
                            <a mat-menu-item [routerLink]="['/historial']">Historial de pagos</a>
                            <a mat-menu-item (click)="openCancelModal()">Cancelar</a>
                        </mat-menu>
                    </div>
                    
                </div>
                <p class="my-2 text-zinc-700">
                    {{description}}
                </p>
               
                <div class="text-zinc-700 mb-4 flex justify-between">
                    <p>
                        Perido de pago: {{period}}
                    </p>
                    <p>
                        {{days}}
                    </p>
                </div>
               
            </div>
        </div>
        <div class="flex justify-between py-2 border-t">
                <div class="flex justify-between items-center text-sm"><div class="h-3 w-3 rounded-full {{color}} mr-2"></div>{{status}}</div>
            <a *ngIf="canPay" [routerLink]="['/pagar']" class="text-indigo-600">Proceder al pago</a>
        </div>
    </div>
</div>

<!-- modal para realizar cancelación -->
<app-modal>
    <div #cancelModal class="button-name hidden">
    </div>
    <div class="modal-body pt-4">
        <h2 class="font-semibold text.lg">¿Seguro que deseas cancelar {{name}} de tus servicios?</h2>
        <div class="flex justify-center">
            <button mat-stroked-button class="m-4 text-indigo-600" (click)="closeModal()">Cancelar</button>
            <button mat-flat-button color="primary" class="m-4" (click)="cancelService(id)">Confirmar</button>
        </div>
    </div>
</app-modal>
