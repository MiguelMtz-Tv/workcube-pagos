<div class="bg-white border border-zinc-300 flex flex-col rounded-md mb-4 shadow">
    <div class="flex flex-col py-4 px-6">
        <div class="flex max-[768px]:flex-col">
            <div class="flex flex-grow flex-col">
                <div class="flex justify-between">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 mr-2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
                        </svg>  
                        <span class="font-bold text-md">{{name}}</span>
                    </div>
                    <div class="flex p-2 relative">
                        <app-dropdown>
                            <button class="button-name">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                                </svg>   
                            </button>
                            <div
                                class="dropdown-body border border-zinc-200 z-10 absolute max-sm:right-2 font-normal bg-white divide-y divide-gray-100 rounded-lg shadow-lg w-40">
                                <ul class="py-2 text-sm text-gray-700">
                                    <li>
                                        <a [routerLink]="['/historial']" class="block px-4 py-2 hover:bg-gray-100">
                                            Historial de pagos
                                        </a>
                                    </li>
                                    <li>
                                        <a class="block px-4 py-2 hover:bg-gray-100 cursor-pointer" (click)="openCancelModal()">
                                            Cancelar
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </app-dropdown>
                    </div>
                    
                </div>
                <p class="my-2 text-zinc-700">
                    {{description}}
                </p>
               
                <div class="text-zinc-700 mb-4 flex justify-between">
                    <p>
                        Perido de pago: {{period}}
                    </p>
                    <p>
                        {{days}}
                    </p>
                </div>
               
            </div>
        </div>
        <div class="flex justify-between py-2 border-t">
                <div class="flex justify-between items-center text-sm"><div class="h-3 w-3 rounded-full {{color}} mr-2"></div>{{status}}</div>
            <a *ngIf="canPay" [routerLink]="['/pagar']" class="text-indigo-600">Proceder al pago</a>
        </div>
    </div>
</div>

<app-modal>
    <div #cancelModal class="button-name hidden">
        nothing
    </div>
    <div class="modal-body">
        <h2 class="font-semibold text.lg">Â¿Seguro que deseas cancelar {{name}} de tus servicios?</h2>
        <div class="flex justify-center">
            <button mat-stroked-button class="m-4 text-indigo-600" (click)="closeModal()">Cancelar</button>
            <button mat-flat-button color="primary" class="m-4" (click)="cancelService(id)">Confirmar</button>
        </div>
    </div>
</app-modal>
